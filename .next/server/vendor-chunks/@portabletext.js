"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@portabletext";
exports.ids = ["vendor-chunks/@portabletext"];
exports.modules = {

/***/ "(rsc)/./node_modules/@portabletext/to-html/dist/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@portabletext/to-html/dist/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultComponents: () => (/* binding */ defaultComponents),\n/* harmony export */   escapeHTML: () => (/* binding */ escapeHTML),\n/* harmony export */   mergeComponents: () => (/* binding */ mergeComponents),\n/* harmony export */   toHTML: () => (/* binding */ toHTML),\n/* harmony export */   uriLooksSafe: () => (/* binding */ uriLooksSafe)\n/* harmony export */ });\n/* harmony import */ var _portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @portabletext/toolkit */ \"(rsc)/./node_modules/@portabletext/to-html/node_modules/@portabletext/toolkit/dist/index.js\");\n\nconst allowedProtocols = [\n\t\"http\",\n\t\"https\",\n\t\"mailto\",\n\t\"tel\"\n], charMap = {\n\t\"&\": \"amp\",\n\t\"<\": \"lt\",\n\t\">\": \"gt\",\n\t\"\\\"\": \"quot\",\n\t\"'\": \"#x27\"\n};\nfunction escapeHTML(str) {\n\treturn replaceMultipleSpaces(str.replace(/[&<>\"']/g, (s) => `&${charMap[s]};`));\n}\nfunction replaceMultipleSpaces(str) {\n\treturn str.replace(/ {2,}/g, (match) => `${\"&nbsp;\".repeat(match.length - 1)} `);\n}\nfunction uriLooksSafe(uri) {\n\tlet url = (uri || \"\").trim(), first = url.charAt(0);\n\tif (first === \"#\" || first === \"/\") return !0;\n\tlet colonIndex = url.indexOf(\":\");\n\tif (colonIndex === -1) return !0;\n\tlet proto = url.slice(0, colonIndex).toLowerCase();\n\tif (allowedProtocols.indexOf(proto) !== -1) return !0;\n\tlet queryIndex = url.indexOf(\"?\");\n\tif (queryIndex !== -1 && colonIndex > queryIndex) return !0;\n\tlet hashIndex = url.indexOf(\"#\");\n\treturn hashIndex !== -1 && colonIndex > hashIndex;\n}\nconst defaultLists = {\n\tnumber: ({ children }) => `<ol>${children}</ol>`,\n\tbullet: ({ children }) => `<ul>${children}</ul>`\n}, DefaultListItem = ({ children }) => `<li>${children}</li>`, link = ({ children, value }) => {\n\tlet href = value?.href || \"\";\n\treturn uriLooksSafe(href) ? `<a href=\"${escapeHTML(href)}\">${children}</a>` : children;\n}, defaultMarks = {\n\tem: ({ children }) => `<em>${children}</em>`,\n\tstrong: ({ children }) => `<strong>${children}</strong>`,\n\tcode: ({ children }) => `<code>${children}</code>`,\n\tunderline: ({ children }) => `<span style=\"text-decoration:underline\">${children}</span>`,\n\t\"strike-through\": ({ children }) => `<del>${children}</del>`,\n\tlink\n}, getTemplate = (type, prop) => `Unknown ${type}, specify a component for it in the \\`components.${prop}\\` option`, unknownTypeWarning = (typeName) => getTemplate(`block type \"${typeName}\"`, \"types\"), unknownMarkWarning = (markType) => getTemplate(`mark type \"${markType}\"`, \"marks\"), unknownBlockStyleWarning = (blockStyle) => getTemplate(`block style \"${blockStyle}\"`, \"block\"), unknownListStyleWarning = (listStyle) => getTemplate(`list style \"${listStyle}\"`, \"list\"), unknownListItemStyleWarning = (listStyle) => getTemplate(`list item style \"${listStyle}\"`, \"listItem\");\nfunction printWarning(message) {\n\tconsole.warn(message);\n}\nconst defaultComponents = {\n\ttypes: {},\n\tblock: {\n\t\tnormal: ({ children }) => `<p>${children}</p>`,\n\t\tblockquote: ({ children }) => `<blockquote>${children}</blockquote>`,\n\t\th1: ({ children }) => `<h1>${children}</h1>`,\n\t\th2: ({ children }) => `<h2>${children}</h2>`,\n\t\th3: ({ children }) => `<h3>${children}</h3>`,\n\t\th4: ({ children }) => `<h4>${children}</h4>`,\n\t\th5: ({ children }) => `<h5>${children}</h5>`,\n\t\th6: ({ children }) => `<h6>${children}</h6>`\n\t},\n\tmarks: defaultMarks,\n\tlist: defaultLists,\n\tlistItem: DefaultListItem,\n\thardBreak: () => \"<br/>\",\n\tescapeHTML,\n\tunknownType: ({ value, isInline }) => {\n\t\tlet warning = unknownTypeWarning(value._type);\n\t\treturn isInline ? `<span style=\"display:none\">${warning}</span>` : `<div style=\"display:none\">${warning}</div>`;\n\t},\n\tunknownMark: ({ markType, children }) => `<span class=\"unknown__pt__mark__${markType}\">${children}</span>`,\n\tunknownList: ({ children }) => `<ul>${children}</ul>`,\n\tunknownListItem: ({ children }) => `<li>${children}</li>`,\n\tunknownBlockStyle: ({ children }) => `<p>${children}</p>`\n};\nfunction mergeComponents(parent, overrides) {\n\tlet { block, list, listItem, marks, types, ...rest } = overrides;\n\treturn {\n\t\t...parent,\n\t\tblock: mergeDeeply(parent, overrides, \"block\"),\n\t\tlist: mergeDeeply(parent, overrides, \"list\"),\n\t\tlistItem: mergeDeeply(parent, overrides, \"listItem\"),\n\t\tmarks: mergeDeeply(parent, overrides, \"marks\"),\n\t\ttypes: mergeDeeply(parent, overrides, \"types\"),\n\t\t...rest\n\t};\n}\nfunction mergeDeeply(parent, overrides, key) {\n\tlet override = overrides[key], parentVal = parent[key];\n\treturn typeof override == \"function\" ? override : override ? typeof parentVal == \"function\" ? override : {\n\t\t...parentVal,\n\t\t...override\n\t} : parentVal;\n}\nfunction toHTML(value, options = {}) {\n\tlet { components: componentOverrides, onMissingComponent: missingComponentHandler = printWarning } = options, handleMissingComponent = missingComponentHandler || noop, nested = (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.nestLists)(Array.isArray(value) ? value : [value], \"html\"), renderNode = getNodeRenderer(componentOverrides ? mergeComponents(defaultComponents, componentOverrides) : defaultComponents, handleMissingComponent);\n\treturn nested.map((node, index) => renderNode({\n\t\tnode,\n\t\tindex,\n\t\tisInline: !1,\n\t\trenderNode\n\t})).join(\"\");\n}\nconst getNodeRenderer = (components, handleMissingComponent) => {\n\tfunction renderNode(options) {\n\t\tlet { node, index, isInline } = options;\n\t\treturn (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextToolkitList)(node) ? renderList(node, index) : (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextListItemBlock)(node) ? renderListItem(node, index) : (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextToolkitSpan)(node) ? renderSpan(node) : (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextBlock)(node) ? renderBlock(node, index, isInline) : (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextToolkitTextNode)(node) ? renderText(node) : renderCustomBlock(node, index, isInline);\n\t}\n\tfunction renderListItem(node, index) {\n\t\tlet tree = serializeBlock({\n\t\t\tnode,\n\t\t\tindex,\n\t\t\tisInline: !1,\n\t\t\trenderNode\n\t\t}), renderer = components.listItem, itemHandler = (typeof renderer == \"function\" ? renderer : renderer[node.listItem]) || components.unknownListItem;\n\t\tif (itemHandler === components.unknownListItem) {\n\t\t\tlet style = node.listItem || \"bullet\";\n\t\t\thandleMissingComponent(unknownListItemStyleWarning(style), {\n\t\t\t\ttype: style,\n\t\t\t\tnodeType: \"listItemStyle\"\n\t\t\t});\n\t\t}\n\t\tlet children = tree.children;\n\t\tif (node.style && node.style !== \"normal\") {\n\t\t\tlet { listItem, ...blockNode } = node;\n\t\t\tchildren = renderNode({\n\t\t\t\tnode: blockNode,\n\t\t\t\tindex,\n\t\t\t\tisInline: !1,\n\t\t\t\trenderNode\n\t\t\t});\n\t\t}\n\t\treturn itemHandler({\n\t\t\tvalue: node,\n\t\t\tindex,\n\t\t\tisInline: !1,\n\t\t\trenderNode,\n\t\t\tchildren\n\t\t});\n\t}\n\tfunction renderList(node, index) {\n\t\tlet children = node.children.map((child, childIndex) => renderNode({\n\t\t\tnode: child._key ? child : {\n\t\t\t\t...child,\n\t\t\t\t_key: `li-${index}-${childIndex}`\n\t\t\t},\n\t\t\tindex: childIndex,\n\t\t\tisInline: !1,\n\t\t\trenderNode\n\t\t})), component = components.list, list = (typeof component == \"function\" ? component : component[node.listItem]) || components.unknownList;\n\t\tif (list === components.unknownList) {\n\t\t\tlet style = node.listItem || \"bullet\";\n\t\t\thandleMissingComponent(unknownListStyleWarning(style), {\n\t\t\t\tnodeType: \"listStyle\",\n\t\t\t\ttype: style\n\t\t\t});\n\t\t}\n\t\treturn list({\n\t\t\tvalue: node,\n\t\t\tindex,\n\t\t\tisInline: !1,\n\t\t\trenderNode,\n\t\t\tchildren: children.join(\"\")\n\t\t});\n\t}\n\tfunction renderSpan(node) {\n\t\tlet { markDef, markType, markKey } = node, span = components.marks[markType] || components.unknownMark, children = node.children.map((child, childIndex) => renderNode({\n\t\t\tnode: child,\n\t\t\tindex: childIndex,\n\t\t\tisInline: !0,\n\t\t\trenderNode\n\t\t}));\n\t\treturn span === components.unknownMark && handleMissingComponent(unknownMarkWarning(markType), {\n\t\t\tnodeType: \"mark\",\n\t\t\ttype: markType\n\t\t}), span({\n\t\t\ttext: (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.spanToPlainText)(node),\n\t\t\tvalue: markDef,\n\t\t\tmarkType,\n\t\t\tmarkKey,\n\t\t\trenderNode,\n\t\t\tchildren: children.join(\"\")\n\t\t});\n\t}\n\tfunction renderBlock(node, index, isInline) {\n\t\tlet { _key, ...props } = serializeBlock({\n\t\t\tnode,\n\t\t\tindex,\n\t\t\tisInline,\n\t\t\trenderNode\n\t\t}), style = props.node.style || \"normal\", block = (typeof components.block == \"function\" ? components.block : components.block[style]) || components.unknownBlockStyle;\n\t\treturn block === components.unknownBlockStyle && handleMissingComponent(unknownBlockStyleWarning(style), {\n\t\t\tnodeType: \"blockStyle\",\n\t\t\ttype: style\n\t\t}), block({\n\t\t\t...props,\n\t\t\tvalue: props.node,\n\t\t\trenderNode\n\t\t});\n\t}\n\tfunction renderText(node) {\n\t\tif (node.text === \"\\n\") {\n\t\t\tlet hardBreak = components.hardBreak;\n\t\t\treturn hardBreak ? hardBreak() : \"\\n\";\n\t\t}\n\t\treturn components.escapeHTML(node.text);\n\t}\n\tfunction renderCustomBlock(value, index, isInline) {\n\t\tlet node = components.types[value._type];\n\t\treturn node || handleMissingComponent(unknownTypeWarning(value._type), {\n\t\t\tnodeType: \"block\",\n\t\t\ttype: value._type\n\t\t}), (node || components.unknownType)({\n\t\t\tvalue,\n\t\t\tisInline,\n\t\t\tindex,\n\t\t\trenderNode\n\t\t});\n\t}\n\treturn renderNode;\n};\nfunction serializeBlock(options) {\n\tlet { node, index, isInline, renderNode } = options, children = (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.buildMarksTree)(node).map((child, i) => renderNode({\n\t\tnode: child,\n\t\tisInline: !0,\n\t\tindex: i,\n\t\trenderNode\n\t}));\n\treturn {\n\t\t_key: node._key || `block-${index}`,\n\t\tchildren: children.join(\"\"),\n\t\tindex,\n\t\tisInline,\n\t\tnode\n\t};\n}\nfunction noop() {}\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHBvcnRhYmxldGV4dC90by1odG1sL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTBOO0FBQzFOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLFlBQVk7QUFDN0U7QUFDQTtBQUNBLHVCQUF1QixHQUFHLGtCQUFrQixPQUFPLDRCQUE0QjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVLFlBQVksU0FBUztBQUMzQyxZQUFZLFVBQVUsWUFBWSxTQUFTO0FBQzNDLENBQUMsdUJBQXVCLFVBQVUsWUFBWSxTQUFTLGtCQUFrQixpQkFBaUI7QUFDMUY7QUFDQSx5Q0FBeUMsaUJBQWlCLElBQUksU0FBUztBQUN2RSxDQUFDO0FBQ0QsUUFBUSxVQUFVLFlBQVksU0FBUztBQUN2QyxZQUFZLFVBQVUsZ0JBQWdCLFNBQVM7QUFDL0MsVUFBVSxVQUFVLGNBQWMsU0FBUztBQUMzQyxlQUFlLFVBQVUsZ0RBQWdELFNBQVM7QUFDbEYsc0JBQXNCLFVBQVUsYUFBYSxTQUFTO0FBQ3REO0FBQ0EsQ0FBQywyQ0FBMkMsS0FBSyxtREFBbUQsS0FBSywwRUFBMEUsU0FBUywyRUFBMkUsU0FBUyxxRkFBcUYsV0FBVyxrRkFBa0YsVUFBVSwwRkFBMEYsVUFBVTtBQUNoakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxhQUFhLFVBQVUsV0FBVyxTQUFTO0FBQzNDLGlCQUFpQixVQUFVLG9CQUFvQixTQUFTO0FBQ3hELFNBQVMsVUFBVSxZQUFZLFNBQVM7QUFDeEMsU0FBUyxVQUFVLFlBQVksU0FBUztBQUN4QyxTQUFTLFVBQVUsWUFBWSxTQUFTO0FBQ3hDLFNBQVMsVUFBVSxZQUFZLFNBQVM7QUFDeEMsU0FBUyxVQUFVLFlBQVksU0FBUztBQUN4QyxTQUFTLFVBQVUsWUFBWSxTQUFTO0FBQ3hDLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlCQUFpQjtBQUNsQztBQUNBLGtEQUFrRCxRQUFRLHdDQUF3QyxRQUFRO0FBQzFHLEVBQUU7QUFDRixpQkFBaUIsb0JBQW9CLHdDQUF3QyxTQUFTLElBQUksU0FBUztBQUNuRyxpQkFBaUIsVUFBVSxZQUFZLFNBQVM7QUFDaEQscUJBQXFCLFVBQVUsWUFBWSxTQUFTO0FBQ3BELHVCQUF1QixVQUFVLFdBQVcsU0FBUztBQUNyRDtBQUNBO0FBQ0EsT0FBTywrQ0FBK0M7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsbUNBQW1DO0FBQ25DLE9BQU8sNkZBQTZGLDhFQUE4RSxnRUFBUztBQUMzTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0JBQXdCO0FBQ2hDLFNBQVMsZ0ZBQXlCLG1DQUFtQyxrRkFBMkIsdUNBQXVDLGdGQUF5Qiw0QkFBNEIsMEVBQW1CLDhDQUE4QyxvRkFBNkI7QUFDMVI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxTQUFTLHlCQUF5QjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsTUFBTSxHQUFHLFdBQVc7QUFDcEMsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxRQUFRLDZCQUE2QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsU0FBUyxzRUFBZTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxRQUFRLGlCQUFpQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxvQ0FBb0Msc0JBQXNCLHFFQUFjO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsOEJBQThCLE1BQU07QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZ0Y7O0FBRWhGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXZlZGlhbi1uZXdzcm9vbS8uL25vZGVfbW9kdWxlcy9AcG9ydGFibGV0ZXh0L3RvLWh0bWwvZGlzdC9pbmRleC5qcz8wNzZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJ1aWxkTWFya3NUcmVlLCBpc1BvcnRhYmxlVGV4dEJsb2NrLCBpc1BvcnRhYmxlVGV4dExpc3RJdGVtQmxvY2ssIGlzUG9ydGFibGVUZXh0VG9vbGtpdExpc3QsIGlzUG9ydGFibGVUZXh0VG9vbGtpdFNwYW4sIGlzUG9ydGFibGVUZXh0VG9vbGtpdFRleHROb2RlLCBuZXN0TGlzdHMsIHNwYW5Ub1BsYWluVGV4dCB9IGZyb20gXCJAcG9ydGFibGV0ZXh0L3Rvb2xraXRcIjtcbmNvbnN0IGFsbG93ZWRQcm90b2NvbHMgPSBbXG5cdFwiaHR0cFwiLFxuXHRcImh0dHBzXCIsXG5cdFwibWFpbHRvXCIsXG5cdFwidGVsXCJcbl0sIGNoYXJNYXAgPSB7XG5cdFwiJlwiOiBcImFtcFwiLFxuXHRcIjxcIjogXCJsdFwiLFxuXHRcIj5cIjogXCJndFwiLFxuXHRcIlxcXCJcIjogXCJxdW90XCIsXG5cdFwiJ1wiOiBcIiN4MjdcIlxufTtcbmZ1bmN0aW9uIGVzY2FwZUhUTUwoc3RyKSB7XG5cdHJldHVybiByZXBsYWNlTXVsdGlwbGVTcGFjZXMoc3RyLnJlcGxhY2UoL1smPD5cIiddL2csIChzKSA9PiBgJiR7Y2hhck1hcFtzXX07YCkpO1xufVxuZnVuY3Rpb24gcmVwbGFjZU11bHRpcGxlU3BhY2VzKHN0cikge1xuXHRyZXR1cm4gc3RyLnJlcGxhY2UoLyB7Mix9L2csIChtYXRjaCkgPT4gYCR7XCImbmJzcDtcIi5yZXBlYXQobWF0Y2gubGVuZ3RoIC0gMSl9IGApO1xufVxuZnVuY3Rpb24gdXJpTG9va3NTYWZlKHVyaSkge1xuXHRsZXQgdXJsID0gKHVyaSB8fCBcIlwiKS50cmltKCksIGZpcnN0ID0gdXJsLmNoYXJBdCgwKTtcblx0aWYgKGZpcnN0ID09PSBcIiNcIiB8fCBmaXJzdCA9PT0gXCIvXCIpIHJldHVybiAhMDtcblx0bGV0IGNvbG9uSW5kZXggPSB1cmwuaW5kZXhPZihcIjpcIik7XG5cdGlmIChjb2xvbkluZGV4ID09PSAtMSkgcmV0dXJuICEwO1xuXHRsZXQgcHJvdG8gPSB1cmwuc2xpY2UoMCwgY29sb25JbmRleCkudG9Mb3dlckNhc2UoKTtcblx0aWYgKGFsbG93ZWRQcm90b2NvbHMuaW5kZXhPZihwcm90bykgIT09IC0xKSByZXR1cm4gITA7XG5cdGxldCBxdWVyeUluZGV4ID0gdXJsLmluZGV4T2YoXCI/XCIpO1xuXHRpZiAocXVlcnlJbmRleCAhPT0gLTEgJiYgY29sb25JbmRleCA+IHF1ZXJ5SW5kZXgpIHJldHVybiAhMDtcblx0bGV0IGhhc2hJbmRleCA9IHVybC5pbmRleE9mKFwiI1wiKTtcblx0cmV0dXJuIGhhc2hJbmRleCAhPT0gLTEgJiYgY29sb25JbmRleCA+IGhhc2hJbmRleDtcbn1cbmNvbnN0IGRlZmF1bHRMaXN0cyA9IHtcblx0bnVtYmVyOiAoeyBjaGlsZHJlbiB9KSA9PiBgPG9sPiR7Y2hpbGRyZW59PC9vbD5gLFxuXHRidWxsZXQ6ICh7IGNoaWxkcmVuIH0pID0+IGA8dWw+JHtjaGlsZHJlbn08L3VsPmBcbn0sIERlZmF1bHRMaXN0SXRlbSA9ICh7IGNoaWxkcmVuIH0pID0+IGA8bGk+JHtjaGlsZHJlbn08L2xpPmAsIGxpbmsgPSAoeyBjaGlsZHJlbiwgdmFsdWUgfSkgPT4ge1xuXHRsZXQgaHJlZiA9IHZhbHVlPy5ocmVmIHx8IFwiXCI7XG5cdHJldHVybiB1cmlMb29rc1NhZmUoaHJlZikgPyBgPGEgaHJlZj1cIiR7ZXNjYXBlSFRNTChocmVmKX1cIj4ke2NoaWxkcmVufTwvYT5gIDogY2hpbGRyZW47XG59LCBkZWZhdWx0TWFya3MgPSB7XG5cdGVtOiAoeyBjaGlsZHJlbiB9KSA9PiBgPGVtPiR7Y2hpbGRyZW59PC9lbT5gLFxuXHRzdHJvbmc6ICh7IGNoaWxkcmVuIH0pID0+IGA8c3Ryb25nPiR7Y2hpbGRyZW59PC9zdHJvbmc+YCxcblx0Y29kZTogKHsgY2hpbGRyZW4gfSkgPT4gYDxjb2RlPiR7Y2hpbGRyZW59PC9jb2RlPmAsXG5cdHVuZGVybGluZTogKHsgY2hpbGRyZW4gfSkgPT4gYDxzcGFuIHN0eWxlPVwidGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZVwiPiR7Y2hpbGRyZW59PC9zcGFuPmAsXG5cdFwic3RyaWtlLXRocm91Z2hcIjogKHsgY2hpbGRyZW4gfSkgPT4gYDxkZWw+JHtjaGlsZHJlbn08L2RlbD5gLFxuXHRsaW5rXG59LCBnZXRUZW1wbGF0ZSA9ICh0eXBlLCBwcm9wKSA9PiBgVW5rbm93biAke3R5cGV9LCBzcGVjaWZ5IGEgY29tcG9uZW50IGZvciBpdCBpbiB0aGUgXFxgY29tcG9uZW50cy4ke3Byb3B9XFxgIG9wdGlvbmAsIHVua25vd25UeXBlV2FybmluZyA9ICh0eXBlTmFtZSkgPT4gZ2V0VGVtcGxhdGUoYGJsb2NrIHR5cGUgXCIke3R5cGVOYW1lfVwiYCwgXCJ0eXBlc1wiKSwgdW5rbm93bk1hcmtXYXJuaW5nID0gKG1hcmtUeXBlKSA9PiBnZXRUZW1wbGF0ZShgbWFyayB0eXBlIFwiJHttYXJrVHlwZX1cImAsIFwibWFya3NcIiksIHVua25vd25CbG9ja1N0eWxlV2FybmluZyA9IChibG9ja1N0eWxlKSA9PiBnZXRUZW1wbGF0ZShgYmxvY2sgc3R5bGUgXCIke2Jsb2NrU3R5bGV9XCJgLCBcImJsb2NrXCIpLCB1bmtub3duTGlzdFN0eWxlV2FybmluZyA9IChsaXN0U3R5bGUpID0+IGdldFRlbXBsYXRlKGBsaXN0IHN0eWxlIFwiJHtsaXN0U3R5bGV9XCJgLCBcImxpc3RcIiksIHVua25vd25MaXN0SXRlbVN0eWxlV2FybmluZyA9IChsaXN0U3R5bGUpID0+IGdldFRlbXBsYXRlKGBsaXN0IGl0ZW0gc3R5bGUgXCIke2xpc3RTdHlsZX1cImAsIFwibGlzdEl0ZW1cIik7XG5mdW5jdGlvbiBwcmludFdhcm5pbmcobWVzc2FnZSkge1xuXHRjb25zb2xlLndhcm4obWVzc2FnZSk7XG59XG5jb25zdCBkZWZhdWx0Q29tcG9uZW50cyA9IHtcblx0dHlwZXM6IHt9LFxuXHRibG9jazoge1xuXHRcdG5vcm1hbDogKHsgY2hpbGRyZW4gfSkgPT4gYDxwPiR7Y2hpbGRyZW59PC9wPmAsXG5cdFx0YmxvY2txdW90ZTogKHsgY2hpbGRyZW4gfSkgPT4gYDxibG9ja3F1b3RlPiR7Y2hpbGRyZW59PC9ibG9ja3F1b3RlPmAsXG5cdFx0aDE6ICh7IGNoaWxkcmVuIH0pID0+IGA8aDE+JHtjaGlsZHJlbn08L2gxPmAsXG5cdFx0aDI6ICh7IGNoaWxkcmVuIH0pID0+IGA8aDI+JHtjaGlsZHJlbn08L2gyPmAsXG5cdFx0aDM6ICh7IGNoaWxkcmVuIH0pID0+IGA8aDM+JHtjaGlsZHJlbn08L2gzPmAsXG5cdFx0aDQ6ICh7IGNoaWxkcmVuIH0pID0+IGA8aDQ+JHtjaGlsZHJlbn08L2g0PmAsXG5cdFx0aDU6ICh7IGNoaWxkcmVuIH0pID0+IGA8aDU+JHtjaGlsZHJlbn08L2g1PmAsXG5cdFx0aDY6ICh7IGNoaWxkcmVuIH0pID0+IGA8aDY+JHtjaGlsZHJlbn08L2g2PmBcblx0fSxcblx0bWFya3M6IGRlZmF1bHRNYXJrcyxcblx0bGlzdDogZGVmYXVsdExpc3RzLFxuXHRsaXN0SXRlbTogRGVmYXVsdExpc3RJdGVtLFxuXHRoYXJkQnJlYWs6ICgpID0+IFwiPGJyLz5cIixcblx0ZXNjYXBlSFRNTCxcblx0dW5rbm93blR5cGU6ICh7IHZhbHVlLCBpc0lubGluZSB9KSA9PiB7XG5cdFx0bGV0IHdhcm5pbmcgPSB1bmtub3duVHlwZVdhcm5pbmcodmFsdWUuX3R5cGUpO1xuXHRcdHJldHVybiBpc0lubGluZSA/IGA8c3BhbiBzdHlsZT1cImRpc3BsYXk6bm9uZVwiPiR7d2FybmluZ308L3NwYW4+YCA6IGA8ZGl2IHN0eWxlPVwiZGlzcGxheTpub25lXCI+JHt3YXJuaW5nfTwvZGl2PmA7XG5cdH0sXG5cdHVua25vd25NYXJrOiAoeyBtYXJrVHlwZSwgY2hpbGRyZW4gfSkgPT4gYDxzcGFuIGNsYXNzPVwidW5rbm93bl9fcHRfX21hcmtfXyR7bWFya1R5cGV9XCI+JHtjaGlsZHJlbn08L3NwYW4+YCxcblx0dW5rbm93bkxpc3Q6ICh7IGNoaWxkcmVuIH0pID0+IGA8dWw+JHtjaGlsZHJlbn08L3VsPmAsXG5cdHVua25vd25MaXN0SXRlbTogKHsgY2hpbGRyZW4gfSkgPT4gYDxsaT4ke2NoaWxkcmVufTwvbGk+YCxcblx0dW5rbm93bkJsb2NrU3R5bGU6ICh7IGNoaWxkcmVuIH0pID0+IGA8cD4ke2NoaWxkcmVufTwvcD5gXG59O1xuZnVuY3Rpb24gbWVyZ2VDb21wb25lbnRzKHBhcmVudCwgb3ZlcnJpZGVzKSB7XG5cdGxldCB7IGJsb2NrLCBsaXN0LCBsaXN0SXRlbSwgbWFya3MsIHR5cGVzLCAuLi5yZXN0IH0gPSBvdmVycmlkZXM7XG5cdHJldHVybiB7XG5cdFx0Li4ucGFyZW50LFxuXHRcdGJsb2NrOiBtZXJnZURlZXBseShwYXJlbnQsIG92ZXJyaWRlcywgXCJibG9ja1wiKSxcblx0XHRsaXN0OiBtZXJnZURlZXBseShwYXJlbnQsIG92ZXJyaWRlcywgXCJsaXN0XCIpLFxuXHRcdGxpc3RJdGVtOiBtZXJnZURlZXBseShwYXJlbnQsIG92ZXJyaWRlcywgXCJsaXN0SXRlbVwiKSxcblx0XHRtYXJrczogbWVyZ2VEZWVwbHkocGFyZW50LCBvdmVycmlkZXMsIFwibWFya3NcIiksXG5cdFx0dHlwZXM6IG1lcmdlRGVlcGx5KHBhcmVudCwgb3ZlcnJpZGVzLCBcInR5cGVzXCIpLFxuXHRcdC4uLnJlc3Rcblx0fTtcbn1cbmZ1bmN0aW9uIG1lcmdlRGVlcGx5KHBhcmVudCwgb3ZlcnJpZGVzLCBrZXkpIHtcblx0bGV0IG92ZXJyaWRlID0gb3ZlcnJpZGVzW2tleV0sIHBhcmVudFZhbCA9IHBhcmVudFtrZXldO1xuXHRyZXR1cm4gdHlwZW9mIG92ZXJyaWRlID09IFwiZnVuY3Rpb25cIiA/IG92ZXJyaWRlIDogb3ZlcnJpZGUgPyB0eXBlb2YgcGFyZW50VmFsID09IFwiZnVuY3Rpb25cIiA/IG92ZXJyaWRlIDoge1xuXHRcdC4uLnBhcmVudFZhbCxcblx0XHQuLi5vdmVycmlkZVxuXHR9IDogcGFyZW50VmFsO1xufVxuZnVuY3Rpb24gdG9IVE1MKHZhbHVlLCBvcHRpb25zID0ge30pIHtcblx0bGV0IHsgY29tcG9uZW50czogY29tcG9uZW50T3ZlcnJpZGVzLCBvbk1pc3NpbmdDb21wb25lbnQ6IG1pc3NpbmdDb21wb25lbnRIYW5kbGVyID0gcHJpbnRXYXJuaW5nIH0gPSBvcHRpb25zLCBoYW5kbGVNaXNzaW5nQ29tcG9uZW50ID0gbWlzc2luZ0NvbXBvbmVudEhhbmRsZXIgfHwgbm9vcCwgbmVzdGVkID0gbmVzdExpc3RzKEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdLCBcImh0bWxcIiksIHJlbmRlck5vZGUgPSBnZXROb2RlUmVuZGVyZXIoY29tcG9uZW50T3ZlcnJpZGVzID8gbWVyZ2VDb21wb25lbnRzKGRlZmF1bHRDb21wb25lbnRzLCBjb21wb25lbnRPdmVycmlkZXMpIDogZGVmYXVsdENvbXBvbmVudHMsIGhhbmRsZU1pc3NpbmdDb21wb25lbnQpO1xuXHRyZXR1cm4gbmVzdGVkLm1hcCgobm9kZSwgaW5kZXgpID0+IHJlbmRlck5vZGUoe1xuXHRcdG5vZGUsXG5cdFx0aW5kZXgsXG5cdFx0aXNJbmxpbmU6ICExLFxuXHRcdHJlbmRlck5vZGVcblx0fSkpLmpvaW4oXCJcIik7XG59XG5jb25zdCBnZXROb2RlUmVuZGVyZXIgPSAoY29tcG9uZW50cywgaGFuZGxlTWlzc2luZ0NvbXBvbmVudCkgPT4ge1xuXHRmdW5jdGlvbiByZW5kZXJOb2RlKG9wdGlvbnMpIHtcblx0XHRsZXQgeyBub2RlLCBpbmRleCwgaXNJbmxpbmUgfSA9IG9wdGlvbnM7XG5cdFx0cmV0dXJuIGlzUG9ydGFibGVUZXh0VG9vbGtpdExpc3Qobm9kZSkgPyByZW5kZXJMaXN0KG5vZGUsIGluZGV4KSA6IGlzUG9ydGFibGVUZXh0TGlzdEl0ZW1CbG9jayhub2RlKSA/IHJlbmRlckxpc3RJdGVtKG5vZGUsIGluZGV4KSA6IGlzUG9ydGFibGVUZXh0VG9vbGtpdFNwYW4obm9kZSkgPyByZW5kZXJTcGFuKG5vZGUpIDogaXNQb3J0YWJsZVRleHRCbG9jayhub2RlKSA/IHJlbmRlckJsb2NrKG5vZGUsIGluZGV4LCBpc0lubGluZSkgOiBpc1BvcnRhYmxlVGV4dFRvb2xraXRUZXh0Tm9kZShub2RlKSA/IHJlbmRlclRleHQobm9kZSkgOiByZW5kZXJDdXN0b21CbG9jayhub2RlLCBpbmRleCwgaXNJbmxpbmUpO1xuXHR9XG5cdGZ1bmN0aW9uIHJlbmRlckxpc3RJdGVtKG5vZGUsIGluZGV4KSB7XG5cdFx0bGV0IHRyZWUgPSBzZXJpYWxpemVCbG9jayh7XG5cdFx0XHRub2RlLFxuXHRcdFx0aW5kZXgsXG5cdFx0XHRpc0lubGluZTogITEsXG5cdFx0XHRyZW5kZXJOb2RlXG5cdFx0fSksIHJlbmRlcmVyID0gY29tcG9uZW50cy5saXN0SXRlbSwgaXRlbUhhbmRsZXIgPSAodHlwZW9mIHJlbmRlcmVyID09IFwiZnVuY3Rpb25cIiA/IHJlbmRlcmVyIDogcmVuZGVyZXJbbm9kZS5saXN0SXRlbV0pIHx8IGNvbXBvbmVudHMudW5rbm93bkxpc3RJdGVtO1xuXHRcdGlmIChpdGVtSGFuZGxlciA9PT0gY29tcG9uZW50cy51bmtub3duTGlzdEl0ZW0pIHtcblx0XHRcdGxldCBzdHlsZSA9IG5vZGUubGlzdEl0ZW0gfHwgXCJidWxsZXRcIjtcblx0XHRcdGhhbmRsZU1pc3NpbmdDb21wb25lbnQodW5rbm93bkxpc3RJdGVtU3R5bGVXYXJuaW5nKHN0eWxlKSwge1xuXHRcdFx0XHR0eXBlOiBzdHlsZSxcblx0XHRcdFx0bm9kZVR5cGU6IFwibGlzdEl0ZW1TdHlsZVwiXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0bGV0IGNoaWxkcmVuID0gdHJlZS5jaGlsZHJlbjtcblx0XHRpZiAobm9kZS5zdHlsZSAmJiBub2RlLnN0eWxlICE9PSBcIm5vcm1hbFwiKSB7XG5cdFx0XHRsZXQgeyBsaXN0SXRlbSwgLi4uYmxvY2tOb2RlIH0gPSBub2RlO1xuXHRcdFx0Y2hpbGRyZW4gPSByZW5kZXJOb2RlKHtcblx0XHRcdFx0bm9kZTogYmxvY2tOb2RlLFxuXHRcdFx0XHRpbmRleCxcblx0XHRcdFx0aXNJbmxpbmU6ICExLFxuXHRcdFx0XHRyZW5kZXJOb2RlXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0cmV0dXJuIGl0ZW1IYW5kbGVyKHtcblx0XHRcdHZhbHVlOiBub2RlLFxuXHRcdFx0aW5kZXgsXG5cdFx0XHRpc0lubGluZTogITEsXG5cdFx0XHRyZW5kZXJOb2RlLFxuXHRcdFx0Y2hpbGRyZW5cblx0XHR9KTtcblx0fVxuXHRmdW5jdGlvbiByZW5kZXJMaXN0KG5vZGUsIGluZGV4KSB7XG5cdFx0bGV0IGNoaWxkcmVuID0gbm9kZS5jaGlsZHJlbi5tYXAoKGNoaWxkLCBjaGlsZEluZGV4KSA9PiByZW5kZXJOb2RlKHtcblx0XHRcdG5vZGU6IGNoaWxkLl9rZXkgPyBjaGlsZCA6IHtcblx0XHRcdFx0Li4uY2hpbGQsXG5cdFx0XHRcdF9rZXk6IGBsaS0ke2luZGV4fS0ke2NoaWxkSW5kZXh9YFxuXHRcdFx0fSxcblx0XHRcdGluZGV4OiBjaGlsZEluZGV4LFxuXHRcdFx0aXNJbmxpbmU6ICExLFxuXHRcdFx0cmVuZGVyTm9kZVxuXHRcdH0pKSwgY29tcG9uZW50ID0gY29tcG9uZW50cy5saXN0LCBsaXN0ID0gKHR5cGVvZiBjb21wb25lbnQgPT0gXCJmdW5jdGlvblwiID8gY29tcG9uZW50IDogY29tcG9uZW50W25vZGUubGlzdEl0ZW1dKSB8fCBjb21wb25lbnRzLnVua25vd25MaXN0O1xuXHRcdGlmIChsaXN0ID09PSBjb21wb25lbnRzLnVua25vd25MaXN0KSB7XG5cdFx0XHRsZXQgc3R5bGUgPSBub2RlLmxpc3RJdGVtIHx8IFwiYnVsbGV0XCI7XG5cdFx0XHRoYW5kbGVNaXNzaW5nQ29tcG9uZW50KHVua25vd25MaXN0U3R5bGVXYXJuaW5nKHN0eWxlKSwge1xuXHRcdFx0XHRub2RlVHlwZTogXCJsaXN0U3R5bGVcIixcblx0XHRcdFx0dHlwZTogc3R5bGVcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRyZXR1cm4gbGlzdCh7XG5cdFx0XHR2YWx1ZTogbm9kZSxcblx0XHRcdGluZGV4LFxuXHRcdFx0aXNJbmxpbmU6ICExLFxuXHRcdFx0cmVuZGVyTm9kZSxcblx0XHRcdGNoaWxkcmVuOiBjaGlsZHJlbi5qb2luKFwiXCIpXG5cdFx0fSk7XG5cdH1cblx0ZnVuY3Rpb24gcmVuZGVyU3Bhbihub2RlKSB7XG5cdFx0bGV0IHsgbWFya0RlZiwgbWFya1R5cGUsIG1hcmtLZXkgfSA9IG5vZGUsIHNwYW4gPSBjb21wb25lbnRzLm1hcmtzW21hcmtUeXBlXSB8fCBjb21wb25lbnRzLnVua25vd25NYXJrLCBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4ubWFwKChjaGlsZCwgY2hpbGRJbmRleCkgPT4gcmVuZGVyTm9kZSh7XG5cdFx0XHRub2RlOiBjaGlsZCxcblx0XHRcdGluZGV4OiBjaGlsZEluZGV4LFxuXHRcdFx0aXNJbmxpbmU6ICEwLFxuXHRcdFx0cmVuZGVyTm9kZVxuXHRcdH0pKTtcblx0XHRyZXR1cm4gc3BhbiA9PT0gY29tcG9uZW50cy51bmtub3duTWFyayAmJiBoYW5kbGVNaXNzaW5nQ29tcG9uZW50KHVua25vd25NYXJrV2FybmluZyhtYXJrVHlwZSksIHtcblx0XHRcdG5vZGVUeXBlOiBcIm1hcmtcIixcblx0XHRcdHR5cGU6IG1hcmtUeXBlXG5cdFx0fSksIHNwYW4oe1xuXHRcdFx0dGV4dDogc3BhblRvUGxhaW5UZXh0KG5vZGUpLFxuXHRcdFx0dmFsdWU6IG1hcmtEZWYsXG5cdFx0XHRtYXJrVHlwZSxcblx0XHRcdG1hcmtLZXksXG5cdFx0XHRyZW5kZXJOb2RlLFxuXHRcdFx0Y2hpbGRyZW46IGNoaWxkcmVuLmpvaW4oXCJcIilcblx0XHR9KTtcblx0fVxuXHRmdW5jdGlvbiByZW5kZXJCbG9jayhub2RlLCBpbmRleCwgaXNJbmxpbmUpIHtcblx0XHRsZXQgeyBfa2V5LCAuLi5wcm9wcyB9ID0gc2VyaWFsaXplQmxvY2soe1xuXHRcdFx0bm9kZSxcblx0XHRcdGluZGV4LFxuXHRcdFx0aXNJbmxpbmUsXG5cdFx0XHRyZW5kZXJOb2RlXG5cdFx0fSksIHN0eWxlID0gcHJvcHMubm9kZS5zdHlsZSB8fCBcIm5vcm1hbFwiLCBibG9jayA9ICh0eXBlb2YgY29tcG9uZW50cy5ibG9jayA9PSBcImZ1bmN0aW9uXCIgPyBjb21wb25lbnRzLmJsb2NrIDogY29tcG9uZW50cy5ibG9ja1tzdHlsZV0pIHx8IGNvbXBvbmVudHMudW5rbm93bkJsb2NrU3R5bGU7XG5cdFx0cmV0dXJuIGJsb2NrID09PSBjb21wb25lbnRzLnVua25vd25CbG9ja1N0eWxlICYmIGhhbmRsZU1pc3NpbmdDb21wb25lbnQodW5rbm93bkJsb2NrU3R5bGVXYXJuaW5nKHN0eWxlKSwge1xuXHRcdFx0bm9kZVR5cGU6IFwiYmxvY2tTdHlsZVwiLFxuXHRcdFx0dHlwZTogc3R5bGVcblx0XHR9KSwgYmxvY2soe1xuXHRcdFx0Li4ucHJvcHMsXG5cdFx0XHR2YWx1ZTogcHJvcHMubm9kZSxcblx0XHRcdHJlbmRlck5vZGVcblx0XHR9KTtcblx0fVxuXHRmdW5jdGlvbiByZW5kZXJUZXh0KG5vZGUpIHtcblx0XHRpZiAobm9kZS50ZXh0ID09PSBcIlxcblwiKSB7XG5cdFx0XHRsZXQgaGFyZEJyZWFrID0gY29tcG9uZW50cy5oYXJkQnJlYWs7XG5cdFx0XHRyZXR1cm4gaGFyZEJyZWFrID8gaGFyZEJyZWFrKCkgOiBcIlxcblwiO1xuXHRcdH1cblx0XHRyZXR1cm4gY29tcG9uZW50cy5lc2NhcGVIVE1MKG5vZGUudGV4dCk7XG5cdH1cblx0ZnVuY3Rpb24gcmVuZGVyQ3VzdG9tQmxvY2sodmFsdWUsIGluZGV4LCBpc0lubGluZSkge1xuXHRcdGxldCBub2RlID0gY29tcG9uZW50cy50eXBlc1t2YWx1ZS5fdHlwZV07XG5cdFx0cmV0dXJuIG5vZGUgfHwgaGFuZGxlTWlzc2luZ0NvbXBvbmVudCh1bmtub3duVHlwZVdhcm5pbmcodmFsdWUuX3R5cGUpLCB7XG5cdFx0XHRub2RlVHlwZTogXCJibG9ja1wiLFxuXHRcdFx0dHlwZTogdmFsdWUuX3R5cGVcblx0XHR9KSwgKG5vZGUgfHwgY29tcG9uZW50cy51bmtub3duVHlwZSkoe1xuXHRcdFx0dmFsdWUsXG5cdFx0XHRpc0lubGluZSxcblx0XHRcdGluZGV4LFxuXHRcdFx0cmVuZGVyTm9kZVxuXHRcdH0pO1xuXHR9XG5cdHJldHVybiByZW5kZXJOb2RlO1xufTtcbmZ1bmN0aW9uIHNlcmlhbGl6ZUJsb2NrKG9wdGlvbnMpIHtcblx0bGV0IHsgbm9kZSwgaW5kZXgsIGlzSW5saW5lLCByZW5kZXJOb2RlIH0gPSBvcHRpb25zLCBjaGlsZHJlbiA9IGJ1aWxkTWFya3NUcmVlKG5vZGUpLm1hcCgoY2hpbGQsIGkpID0+IHJlbmRlck5vZGUoe1xuXHRcdG5vZGU6IGNoaWxkLFxuXHRcdGlzSW5saW5lOiAhMCxcblx0XHRpbmRleDogaSxcblx0XHRyZW5kZXJOb2RlXG5cdH0pKTtcblx0cmV0dXJuIHtcblx0XHRfa2V5OiBub2RlLl9rZXkgfHwgYGJsb2NrLSR7aW5kZXh9YCxcblx0XHRjaGlsZHJlbjogY2hpbGRyZW4uam9pbihcIlwiKSxcblx0XHRpbmRleCxcblx0XHRpc0lubGluZSxcblx0XHRub2RlXG5cdH07XG59XG5mdW5jdGlvbiBub29wKCkge31cbmV4cG9ydCB7IGRlZmF1bHRDb21wb25lbnRzLCBlc2NhcGVIVE1MLCBtZXJnZUNvbXBvbmVudHMsIHRvSFRNTCwgdXJpTG9va3NTYWZlIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@portabletext/to-html/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@portabletext/to-html/node_modules/@portabletext/toolkit/dist/index.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@portabletext/to-html/node_modules/@portabletext/toolkit/dist/index.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LIST_NEST_MODE_DIRECT: () => (/* binding */ LIST_NEST_MODE_DIRECT),\n/* harmony export */   LIST_NEST_MODE_HTML: () => (/* binding */ LIST_NEST_MODE_HTML),\n/* harmony export */   buildMarksTree: () => (/* binding */ buildMarksTree),\n/* harmony export */   isPortableTextBlock: () => (/* binding */ isPortableTextBlock),\n/* harmony export */   isPortableTextListItemBlock: () => (/* binding */ isPortableTextListItemBlock),\n/* harmony export */   isPortableTextSpan: () => (/* binding */ isPortableTextSpan),\n/* harmony export */   isPortableTextToolkitList: () => (/* binding */ isPortableTextToolkitList),\n/* harmony export */   isPortableTextToolkitSpan: () => (/* binding */ isPortableTextToolkitSpan),\n/* harmony export */   isPortableTextToolkitTextNode: () => (/* binding */ isPortableTextToolkitTextNode),\n/* harmony export */   nestLists: () => (/* binding */ nestLists),\n/* harmony export */   sortMarksByOccurences: () => (/* binding */ sortMarksByOccurences),\n/* harmony export */   spanToPlainText: () => (/* binding */ spanToPlainText),\n/* harmony export */   toPlainText: () => (/* binding */ toPlainText)\n/* harmony export */ });\nfunction isPortableTextSpan(node) {\n\treturn node._type === \"span\" && \"text\" in node && typeof node.text == \"string\" && (node.marks === void 0 || Array.isArray(node.marks) && node.marks.every((mark) => typeof mark == \"string\"));\n}\nfunction isPortableTextBlock(node) {\n\treturn typeof node._type == \"string\" && node._type[0] !== \"@\" && (!(\"markDefs\" in node) || !node.markDefs || Array.isArray(node.markDefs) && node.markDefs.every((def) => typeof def._key == \"string\")) && \"children\" in node && Array.isArray(node.children) && node.children.every((child) => typeof child == \"object\" && \"_type\" in child);\n}\nfunction isPortableTextListItemBlock(block) {\n\treturn isPortableTextBlock(block) && \"listItem\" in block && typeof block.listItem == \"string\" && (block.level === void 0 || typeof block.level == \"number\");\n}\nfunction isPortableTextToolkitList(block) {\n\treturn block._type === \"@list\";\n}\nfunction isPortableTextToolkitSpan(span) {\n\treturn span._type === \"@span\";\n}\nfunction isPortableTextToolkitTextNode(node) {\n\treturn node._type === \"@text\";\n}\nconst knownDecorators = [\n\t\"strong\",\n\t\"em\",\n\t\"code\",\n\t\"underline\",\n\t\"strike-through\"\n];\nfunction sortMarksByOccurences(span, index, blockChildren) {\n\tif (!isPortableTextSpan(span) || !span.marks || !span.marks.length) return [];\n\tlet marks = span.marks.slice(), occurences = {};\n\treturn marks.forEach((mark) => {\n\t\toccurences[mark] = 1;\n\t\tfor (let siblingIndex = index + 1; siblingIndex < blockChildren.length; siblingIndex++) {\n\t\t\tlet sibling = blockChildren[siblingIndex];\n\t\t\tif (sibling && isPortableTextSpan(sibling) && Array.isArray(sibling.marks) && sibling.marks.indexOf(mark) !== -1) occurences[mark]++;\n\t\t\telse break;\n\t\t}\n\t}), marks.sort((markA, markB) => sortMarks(occurences, markA, markB));\n}\nfunction sortMarks(occurences, markA, markB) {\n\tlet aOccurences = occurences[markA], bOccurences = occurences[markB];\n\tif (aOccurences !== bOccurences) return bOccurences - aOccurences;\n\tlet aKnownPos = knownDecorators.indexOf(markA), bKnownPos = knownDecorators.indexOf(markB);\n\treturn aKnownPos === bKnownPos ? markA.localeCompare(markB) : aKnownPos - bKnownPos;\n}\nfunction buildMarksTree(block) {\n\tlet { children } = block, markDefs = block.markDefs ?? [];\n\tif (!children || !children.length) return [];\n\tlet sortedMarks = children.map(sortMarksByOccurences), rootNode = {\n\t\t_type: \"@span\",\n\t\tchildren: [],\n\t\tmarkType: \"<unknown>\"\n\t}, nodeStack = [rootNode];\n\tfor (let i = 0; i < children.length; i++) {\n\t\tlet span = children[i];\n\t\tif (!span) continue;\n\t\tlet marksNeeded = sortedMarks[i] || [], pos = 1;\n\t\tif (nodeStack.length > 1) for (; pos < nodeStack.length; pos++) {\n\t\t\tlet mark = nodeStack[pos]?.markKey || \"\", index = marksNeeded.indexOf(mark);\n\t\t\tif (index === -1) break;\n\t\t\tmarksNeeded.splice(index, 1);\n\t\t}\n\t\tnodeStack = nodeStack.slice(0, pos);\n\t\tlet currentNode = nodeStack[nodeStack.length - 1];\n\t\tif (currentNode) {\n\t\t\tfor (let markKey of marksNeeded) {\n\t\t\t\tlet markDef = markDefs?.find((def) => def._key === markKey), node = {\n\t\t\t\t\t_type: \"@span\",\n\t\t\t\t\t_key: span._key,\n\t\t\t\t\tchildren: [],\n\t\t\t\t\tmarkDef,\n\t\t\t\t\tmarkType: markDef ? markDef._type : markKey,\n\t\t\t\t\tmarkKey\n\t\t\t\t};\n\t\t\t\tcurrentNode.children.push(node), nodeStack.push(node), currentNode = node;\n\t\t\t}\n\t\t\tif (isPortableTextSpan(span)) {\n\t\t\t\tlet lines = span.text.split(\"\\n\");\n\t\t\t\tfor (let line = lines.length; line-- > 1;) lines.splice(line, 0, \"\\n\");\n\t\t\t\tcurrentNode.children = currentNode.children.concat(lines.map((text) => ({\n\t\t\t\t\t_type: \"@text\",\n\t\t\t\t\ttext\n\t\t\t\t})));\n\t\t\t} else currentNode.children = currentNode.children.concat(span);\n\t\t}\n\t}\n\treturn rootNode.children;\n}\nfunction nestLists(blocks, mode) {\n\tlet tree = [], currentList;\n\tfor (let i = 0; i < blocks.length; i++) {\n\t\tlet block = blocks[i];\n\t\tif (block) {\n\t\t\tif (!isPortableTextListItemBlock(block)) {\n\t\t\t\ttree.push(block), currentList = void 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (!currentList) {\n\t\t\t\tcurrentList = listFromBlock(block, i, mode), tree.push(currentList);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (blockMatchesList(block, currentList)) {\n\t\t\t\tcurrentList.children.push(block);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((block.level || 1) > currentList.level) {\n\t\t\t\tlet newList = listFromBlock(block, i, mode);\n\t\t\t\tif (mode === \"html\") {\n\t\t\t\t\tlet lastListItem = currentList.children[currentList.children.length - 1], newLastChild = {\n\t\t\t\t\t\t...lastListItem,\n\t\t\t\t\t\tchildren: [...lastListItem.children, newList]\n\t\t\t\t\t};\n\t\t\t\t\tcurrentList.children[currentList.children.length - 1] = newLastChild;\n\t\t\t\t} else currentList.children.push(newList);\n\t\t\t\tcurrentList = newList;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((block.level || 1) < currentList.level) {\n\t\t\t\tlet matchingBranch = tree[tree.length - 1], match = matchingBranch && findListMatching(matchingBranch, block);\n\t\t\t\tif (match) {\n\t\t\t\t\tcurrentList = match, currentList.children.push(block);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tcurrentList = listFromBlock(block, i, mode), tree.push(currentList);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (block.listItem !== currentList.listItem) {\n\t\t\t\tlet matchingBranch = tree[tree.length - 1], match = matchingBranch && findListMatching(matchingBranch, { level: block.level || 1 });\n\t\t\t\tif (match && match.listItem === block.listItem) {\n\t\t\t\t\tcurrentList = match, currentList.children.push(block);\n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\tcurrentList = listFromBlock(block, i, mode), tree.push(currentList);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconsole.warn(\"Unknown state encountered for block\", block), tree.push(block);\n\t\t}\n\t}\n\treturn tree;\n}\nfunction blockMatchesList(block, list) {\n\treturn (block.level || 1) === list.level && block.listItem === list.listItem;\n}\nfunction listFromBlock(block, index, mode) {\n\treturn {\n\t\t_type: \"@list\",\n\t\t_key: `${block._key || `${index}`}-parent`,\n\t\tmode,\n\t\tlevel: block.level || 1,\n\t\tlistItem: block.listItem,\n\t\tchildren: [block]\n\t};\n}\nfunction findListMatching(rootNode, matching) {\n\tlet level = matching.level || 1, style = matching.listItem || \"normal\", filterOnType = typeof matching.listItem == \"string\";\n\tif (isPortableTextToolkitList(rootNode) && (rootNode.level || 1) === level && filterOnType && (rootNode.listItem || \"normal\") === style) return rootNode;\n\tif (!(\"children\" in rootNode)) return;\n\tlet node = rootNode.children[rootNode.children.length - 1];\n\treturn node && !isPortableTextSpan(node) ? findListMatching(node, matching) : void 0;\n}\nfunction spanToPlainText(span) {\n\tlet text = \"\";\n\treturn span.children.forEach((current) => {\n\t\tisPortableTextToolkitTextNode(current) ? text += current.text : isPortableTextToolkitSpan(current) && (text += spanToPlainText(current));\n\t}), text;\n}\nconst leadingSpace = /^\\s/, trailingSpace = /\\s$/;\nfunction toPlainText(block) {\n\tlet blocks = Array.isArray(block) ? block : [block], text = \"\";\n\treturn blocks.forEach((current, index) => {\n\t\tif (!isPortableTextBlock(current)) return;\n\t\tlet pad = !1;\n\t\tcurrent.children.forEach((span) => {\n\t\t\tisPortableTextSpan(span) ? (text += pad && text && !trailingSpace.test(text) && !leadingSpace.test(span.text) ? \" \" : \"\", text += span.text, pad = !1) : pad = !0;\n\t\t}), index !== blocks.length - 1 && (text += \"\\n\\n\");\n\t}), text;\n}\nconst LIST_NEST_MODE_HTML = \"html\", LIST_NEST_MODE_DIRECT = \"direct\";\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHBvcnRhYmxldGV4dC90by1odG1sL25vZGVfbW9kdWxlcy9AcG9ydGFibGV0ZXh0L3Rvb2xraXQvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHFDQUFxQztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxXQUFXO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsaUJBQWlCLHFCQUFxQjtBQUN0QztBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsd0JBQXdCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsV0FBVztBQUM3QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixtQkFBbUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2R0FBNkcseUJBQXlCO0FBQ3RJO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQixNQUFNLEVBQUU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGO0FBQ0E7QUFDaVM7O0FBRWpTIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXZlZGlhbi1uZXdzcm9vbS8uL25vZGVfbW9kdWxlcy9AcG9ydGFibGV0ZXh0L3RvLWh0bWwvbm9kZV9tb2R1bGVzL0Bwb3J0YWJsZXRleHQvdG9vbGtpdC9kaXN0L2luZGV4LmpzPzE0MGEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaXNQb3J0YWJsZVRleHRTcGFuKG5vZGUpIHtcblx0cmV0dXJuIG5vZGUuX3R5cGUgPT09IFwic3BhblwiICYmIFwidGV4dFwiIGluIG5vZGUgJiYgdHlwZW9mIG5vZGUudGV4dCA9PSBcInN0cmluZ1wiICYmIChub2RlLm1hcmtzID09PSB2b2lkIDAgfHwgQXJyYXkuaXNBcnJheShub2RlLm1hcmtzKSAmJiBub2RlLm1hcmtzLmV2ZXJ5KChtYXJrKSA9PiB0eXBlb2YgbWFyayA9PSBcInN0cmluZ1wiKSk7XG59XG5mdW5jdGlvbiBpc1BvcnRhYmxlVGV4dEJsb2NrKG5vZGUpIHtcblx0cmV0dXJuIHR5cGVvZiBub2RlLl90eXBlID09IFwic3RyaW5nXCIgJiYgbm9kZS5fdHlwZVswXSAhPT0gXCJAXCIgJiYgKCEoXCJtYXJrRGVmc1wiIGluIG5vZGUpIHx8ICFub2RlLm1hcmtEZWZzIHx8IEFycmF5LmlzQXJyYXkobm9kZS5tYXJrRGVmcykgJiYgbm9kZS5tYXJrRGVmcy5ldmVyeSgoZGVmKSA9PiB0eXBlb2YgZGVmLl9rZXkgPT0gXCJzdHJpbmdcIikpICYmIFwiY2hpbGRyZW5cIiBpbiBub2RlICYmIEFycmF5LmlzQXJyYXkobm9kZS5jaGlsZHJlbikgJiYgbm9kZS5jaGlsZHJlbi5ldmVyeSgoY2hpbGQpID0+IHR5cGVvZiBjaGlsZCA9PSBcIm9iamVjdFwiICYmIFwiX3R5cGVcIiBpbiBjaGlsZCk7XG59XG5mdW5jdGlvbiBpc1BvcnRhYmxlVGV4dExpc3RJdGVtQmxvY2soYmxvY2spIHtcblx0cmV0dXJuIGlzUG9ydGFibGVUZXh0QmxvY2soYmxvY2spICYmIFwibGlzdEl0ZW1cIiBpbiBibG9jayAmJiB0eXBlb2YgYmxvY2subGlzdEl0ZW0gPT0gXCJzdHJpbmdcIiAmJiAoYmxvY2subGV2ZWwgPT09IHZvaWQgMCB8fCB0eXBlb2YgYmxvY2subGV2ZWwgPT0gXCJudW1iZXJcIik7XG59XG5mdW5jdGlvbiBpc1BvcnRhYmxlVGV4dFRvb2xraXRMaXN0KGJsb2NrKSB7XG5cdHJldHVybiBibG9jay5fdHlwZSA9PT0gXCJAbGlzdFwiO1xufVxuZnVuY3Rpb24gaXNQb3J0YWJsZVRleHRUb29sa2l0U3BhbihzcGFuKSB7XG5cdHJldHVybiBzcGFuLl90eXBlID09PSBcIkBzcGFuXCI7XG59XG5mdW5jdGlvbiBpc1BvcnRhYmxlVGV4dFRvb2xraXRUZXh0Tm9kZShub2RlKSB7XG5cdHJldHVybiBub2RlLl90eXBlID09PSBcIkB0ZXh0XCI7XG59XG5jb25zdCBrbm93bkRlY29yYXRvcnMgPSBbXG5cdFwic3Ryb25nXCIsXG5cdFwiZW1cIixcblx0XCJjb2RlXCIsXG5cdFwidW5kZXJsaW5lXCIsXG5cdFwic3RyaWtlLXRocm91Z2hcIlxuXTtcbmZ1bmN0aW9uIHNvcnRNYXJrc0J5T2NjdXJlbmNlcyhzcGFuLCBpbmRleCwgYmxvY2tDaGlsZHJlbikge1xuXHRpZiAoIWlzUG9ydGFibGVUZXh0U3BhbihzcGFuKSB8fCAhc3Bhbi5tYXJrcyB8fCAhc3Bhbi5tYXJrcy5sZW5ndGgpIHJldHVybiBbXTtcblx0bGV0IG1hcmtzID0gc3Bhbi5tYXJrcy5zbGljZSgpLCBvY2N1cmVuY2VzID0ge307XG5cdHJldHVybiBtYXJrcy5mb3JFYWNoKChtYXJrKSA9PiB7XG5cdFx0b2NjdXJlbmNlc1ttYXJrXSA9IDE7XG5cdFx0Zm9yIChsZXQgc2libGluZ0luZGV4ID0gaW5kZXggKyAxOyBzaWJsaW5nSW5kZXggPCBibG9ja0NoaWxkcmVuLmxlbmd0aDsgc2libGluZ0luZGV4KyspIHtcblx0XHRcdGxldCBzaWJsaW5nID0gYmxvY2tDaGlsZHJlbltzaWJsaW5nSW5kZXhdO1xuXHRcdFx0aWYgKHNpYmxpbmcgJiYgaXNQb3J0YWJsZVRleHRTcGFuKHNpYmxpbmcpICYmIEFycmF5LmlzQXJyYXkoc2libGluZy5tYXJrcykgJiYgc2libGluZy5tYXJrcy5pbmRleE9mKG1hcmspICE9PSAtMSkgb2NjdXJlbmNlc1ttYXJrXSsrO1xuXHRcdFx0ZWxzZSBicmVhaztcblx0XHR9XG5cdH0pLCBtYXJrcy5zb3J0KChtYXJrQSwgbWFya0IpID0+IHNvcnRNYXJrcyhvY2N1cmVuY2VzLCBtYXJrQSwgbWFya0IpKTtcbn1cbmZ1bmN0aW9uIHNvcnRNYXJrcyhvY2N1cmVuY2VzLCBtYXJrQSwgbWFya0IpIHtcblx0bGV0IGFPY2N1cmVuY2VzID0gb2NjdXJlbmNlc1ttYXJrQV0sIGJPY2N1cmVuY2VzID0gb2NjdXJlbmNlc1ttYXJrQl07XG5cdGlmIChhT2NjdXJlbmNlcyAhPT0gYk9jY3VyZW5jZXMpIHJldHVybiBiT2NjdXJlbmNlcyAtIGFPY2N1cmVuY2VzO1xuXHRsZXQgYUtub3duUG9zID0ga25vd25EZWNvcmF0b3JzLmluZGV4T2YobWFya0EpLCBiS25vd25Qb3MgPSBrbm93bkRlY29yYXRvcnMuaW5kZXhPZihtYXJrQik7XG5cdHJldHVybiBhS25vd25Qb3MgPT09IGJLbm93blBvcyA/IG1hcmtBLmxvY2FsZUNvbXBhcmUobWFya0IpIDogYUtub3duUG9zIC0gYktub3duUG9zO1xufVxuZnVuY3Rpb24gYnVpbGRNYXJrc1RyZWUoYmxvY2spIHtcblx0bGV0IHsgY2hpbGRyZW4gfSA9IGJsb2NrLCBtYXJrRGVmcyA9IGJsb2NrLm1hcmtEZWZzID8/IFtdO1xuXHRpZiAoIWNoaWxkcmVuIHx8ICFjaGlsZHJlbi5sZW5ndGgpIHJldHVybiBbXTtcblx0bGV0IHNvcnRlZE1hcmtzID0gY2hpbGRyZW4ubWFwKHNvcnRNYXJrc0J5T2NjdXJlbmNlcyksIHJvb3ROb2RlID0ge1xuXHRcdF90eXBlOiBcIkBzcGFuXCIsXG5cdFx0Y2hpbGRyZW46IFtdLFxuXHRcdG1hcmtUeXBlOiBcIjx1bmtub3duPlwiXG5cdH0sIG5vZGVTdGFjayA9IFtyb290Tm9kZV07XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRsZXQgc3BhbiA9IGNoaWxkcmVuW2ldO1xuXHRcdGlmICghc3BhbikgY29udGludWU7XG5cdFx0bGV0IG1hcmtzTmVlZGVkID0gc29ydGVkTWFya3NbaV0gfHwgW10sIHBvcyA9IDE7XG5cdFx0aWYgKG5vZGVTdGFjay5sZW5ndGggPiAxKSBmb3IgKDsgcG9zIDwgbm9kZVN0YWNrLmxlbmd0aDsgcG9zKyspIHtcblx0XHRcdGxldCBtYXJrID0gbm9kZVN0YWNrW3Bvc10/Lm1hcmtLZXkgfHwgXCJcIiwgaW5kZXggPSBtYXJrc05lZWRlZC5pbmRleE9mKG1hcmspO1xuXHRcdFx0aWYgKGluZGV4ID09PSAtMSkgYnJlYWs7XG5cdFx0XHRtYXJrc05lZWRlZC5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdH1cblx0XHRub2RlU3RhY2sgPSBub2RlU3RhY2suc2xpY2UoMCwgcG9zKTtcblx0XHRsZXQgY3VycmVudE5vZGUgPSBub2RlU3RhY2tbbm9kZVN0YWNrLmxlbmd0aCAtIDFdO1xuXHRcdGlmIChjdXJyZW50Tm9kZSkge1xuXHRcdFx0Zm9yIChsZXQgbWFya0tleSBvZiBtYXJrc05lZWRlZCkge1xuXHRcdFx0XHRsZXQgbWFya0RlZiA9IG1hcmtEZWZzPy5maW5kKChkZWYpID0+IGRlZi5fa2V5ID09PSBtYXJrS2V5KSwgbm9kZSA9IHtcblx0XHRcdFx0XHRfdHlwZTogXCJAc3BhblwiLFxuXHRcdFx0XHRcdF9rZXk6IHNwYW4uX2tleSxcblx0XHRcdFx0XHRjaGlsZHJlbjogW10sXG5cdFx0XHRcdFx0bWFya0RlZixcblx0XHRcdFx0XHRtYXJrVHlwZTogbWFya0RlZiA/IG1hcmtEZWYuX3R5cGUgOiBtYXJrS2V5LFxuXHRcdFx0XHRcdG1hcmtLZXlcblx0XHRcdFx0fTtcblx0XHRcdFx0Y3VycmVudE5vZGUuY2hpbGRyZW4ucHVzaChub2RlKSwgbm9kZVN0YWNrLnB1c2gobm9kZSksIGN1cnJlbnROb2RlID0gbm9kZTtcblx0XHRcdH1cblx0XHRcdGlmIChpc1BvcnRhYmxlVGV4dFNwYW4oc3BhbikpIHtcblx0XHRcdFx0bGV0IGxpbmVzID0gc3Bhbi50ZXh0LnNwbGl0KFwiXFxuXCIpO1xuXHRcdFx0XHRmb3IgKGxldCBsaW5lID0gbGluZXMubGVuZ3RoOyBsaW5lLS0gPiAxOykgbGluZXMuc3BsaWNlKGxpbmUsIDAsIFwiXFxuXCIpO1xuXHRcdFx0XHRjdXJyZW50Tm9kZS5jaGlsZHJlbiA9IGN1cnJlbnROb2RlLmNoaWxkcmVuLmNvbmNhdChsaW5lcy5tYXAoKHRleHQpID0+ICh7XG5cdFx0XHRcdFx0X3R5cGU6IFwiQHRleHRcIixcblx0XHRcdFx0XHR0ZXh0XG5cdFx0XHRcdH0pKSk7XG5cdFx0XHR9IGVsc2UgY3VycmVudE5vZGUuY2hpbGRyZW4gPSBjdXJyZW50Tm9kZS5jaGlsZHJlbi5jb25jYXQoc3Bhbik7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByb290Tm9kZS5jaGlsZHJlbjtcbn1cbmZ1bmN0aW9uIG5lc3RMaXN0cyhibG9ja3MsIG1vZGUpIHtcblx0bGV0IHRyZWUgPSBbXSwgY3VycmVudExpc3Q7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgYmxvY2tzLmxlbmd0aDsgaSsrKSB7XG5cdFx0bGV0IGJsb2NrID0gYmxvY2tzW2ldO1xuXHRcdGlmIChibG9jaykge1xuXHRcdFx0aWYgKCFpc1BvcnRhYmxlVGV4dExpc3RJdGVtQmxvY2soYmxvY2spKSB7XG5cdFx0XHRcdHRyZWUucHVzaChibG9jayksIGN1cnJlbnRMaXN0ID0gdm9pZCAwO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmICghY3VycmVudExpc3QpIHtcblx0XHRcdFx0Y3VycmVudExpc3QgPSBsaXN0RnJvbUJsb2NrKGJsb2NrLCBpLCBtb2RlKSwgdHJlZS5wdXNoKGN1cnJlbnRMaXN0KTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoYmxvY2tNYXRjaGVzTGlzdChibG9jaywgY3VycmVudExpc3QpKSB7XG5cdFx0XHRcdGN1cnJlbnRMaXN0LmNoaWxkcmVuLnB1c2goYmxvY2spO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmICgoYmxvY2subGV2ZWwgfHwgMSkgPiBjdXJyZW50TGlzdC5sZXZlbCkge1xuXHRcdFx0XHRsZXQgbmV3TGlzdCA9IGxpc3RGcm9tQmxvY2soYmxvY2ssIGksIG1vZGUpO1xuXHRcdFx0XHRpZiAobW9kZSA9PT0gXCJodG1sXCIpIHtcblx0XHRcdFx0XHRsZXQgbGFzdExpc3RJdGVtID0gY3VycmVudExpc3QuY2hpbGRyZW5bY3VycmVudExpc3QuY2hpbGRyZW4ubGVuZ3RoIC0gMV0sIG5ld0xhc3RDaGlsZCA9IHtcblx0XHRcdFx0XHRcdC4uLmxhc3RMaXN0SXRlbSxcblx0XHRcdFx0XHRcdGNoaWxkcmVuOiBbLi4ubGFzdExpc3RJdGVtLmNoaWxkcmVuLCBuZXdMaXN0XVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0Y3VycmVudExpc3QuY2hpbGRyZW5bY3VycmVudExpc3QuY2hpbGRyZW4ubGVuZ3RoIC0gMV0gPSBuZXdMYXN0Q2hpbGQ7XG5cdFx0XHRcdH0gZWxzZSBjdXJyZW50TGlzdC5jaGlsZHJlbi5wdXNoKG5ld0xpc3QpO1xuXHRcdFx0XHRjdXJyZW50TGlzdCA9IG5ld0xpc3Q7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKChibG9jay5sZXZlbCB8fCAxKSA8IGN1cnJlbnRMaXN0LmxldmVsKSB7XG5cdFx0XHRcdGxldCBtYXRjaGluZ0JyYW5jaCA9IHRyZWVbdHJlZS5sZW5ndGggLSAxXSwgbWF0Y2ggPSBtYXRjaGluZ0JyYW5jaCAmJiBmaW5kTGlzdE1hdGNoaW5nKG1hdGNoaW5nQnJhbmNoLCBibG9jayk7XG5cdFx0XHRcdGlmIChtYXRjaCkge1xuXHRcdFx0XHRcdGN1cnJlbnRMaXN0ID0gbWF0Y2gsIGN1cnJlbnRMaXN0LmNoaWxkcmVuLnB1c2goYmxvY2spO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGN1cnJlbnRMaXN0ID0gbGlzdEZyb21CbG9jayhibG9jaywgaSwgbW9kZSksIHRyZWUucHVzaChjdXJyZW50TGlzdCk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGJsb2NrLmxpc3RJdGVtICE9PSBjdXJyZW50TGlzdC5saXN0SXRlbSkge1xuXHRcdFx0XHRsZXQgbWF0Y2hpbmdCcmFuY2ggPSB0cmVlW3RyZWUubGVuZ3RoIC0gMV0sIG1hdGNoID0gbWF0Y2hpbmdCcmFuY2ggJiYgZmluZExpc3RNYXRjaGluZyhtYXRjaGluZ0JyYW5jaCwgeyBsZXZlbDogYmxvY2subGV2ZWwgfHwgMSB9KTtcblx0XHRcdFx0aWYgKG1hdGNoICYmIG1hdGNoLmxpc3RJdGVtID09PSBibG9jay5saXN0SXRlbSkge1xuXHRcdFx0XHRcdGN1cnJlbnRMaXN0ID0gbWF0Y2gsIGN1cnJlbnRMaXN0LmNoaWxkcmVuLnB1c2goYmxvY2spO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGN1cnJlbnRMaXN0ID0gbGlzdEZyb21CbG9jayhibG9jaywgaSwgbW9kZSksIHRyZWUucHVzaChjdXJyZW50TGlzdCk7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGNvbnNvbGUud2FybihcIlVua25vd24gc3RhdGUgZW5jb3VudGVyZWQgZm9yIGJsb2NrXCIsIGJsb2NrKSwgdHJlZS5wdXNoKGJsb2NrKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHRyZWU7XG59XG5mdW5jdGlvbiBibG9ja01hdGNoZXNMaXN0KGJsb2NrLCBsaXN0KSB7XG5cdHJldHVybiAoYmxvY2subGV2ZWwgfHwgMSkgPT09IGxpc3QubGV2ZWwgJiYgYmxvY2subGlzdEl0ZW0gPT09IGxpc3QubGlzdEl0ZW07XG59XG5mdW5jdGlvbiBsaXN0RnJvbUJsb2NrKGJsb2NrLCBpbmRleCwgbW9kZSkge1xuXHRyZXR1cm4ge1xuXHRcdF90eXBlOiBcIkBsaXN0XCIsXG5cdFx0X2tleTogYCR7YmxvY2suX2tleSB8fCBgJHtpbmRleH1gfS1wYXJlbnRgLFxuXHRcdG1vZGUsXG5cdFx0bGV2ZWw6IGJsb2NrLmxldmVsIHx8IDEsXG5cdFx0bGlzdEl0ZW06IGJsb2NrLmxpc3RJdGVtLFxuXHRcdGNoaWxkcmVuOiBbYmxvY2tdXG5cdH07XG59XG5mdW5jdGlvbiBmaW5kTGlzdE1hdGNoaW5nKHJvb3ROb2RlLCBtYXRjaGluZykge1xuXHRsZXQgbGV2ZWwgPSBtYXRjaGluZy5sZXZlbCB8fCAxLCBzdHlsZSA9IG1hdGNoaW5nLmxpc3RJdGVtIHx8IFwibm9ybWFsXCIsIGZpbHRlck9uVHlwZSA9IHR5cGVvZiBtYXRjaGluZy5saXN0SXRlbSA9PSBcInN0cmluZ1wiO1xuXHRpZiAoaXNQb3J0YWJsZVRleHRUb29sa2l0TGlzdChyb290Tm9kZSkgJiYgKHJvb3ROb2RlLmxldmVsIHx8IDEpID09PSBsZXZlbCAmJiBmaWx0ZXJPblR5cGUgJiYgKHJvb3ROb2RlLmxpc3RJdGVtIHx8IFwibm9ybWFsXCIpID09PSBzdHlsZSkgcmV0dXJuIHJvb3ROb2RlO1xuXHRpZiAoIShcImNoaWxkcmVuXCIgaW4gcm9vdE5vZGUpKSByZXR1cm47XG5cdGxldCBub2RlID0gcm9vdE5vZGUuY2hpbGRyZW5bcm9vdE5vZGUuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG5cdHJldHVybiBub2RlICYmICFpc1BvcnRhYmxlVGV4dFNwYW4obm9kZSkgPyBmaW5kTGlzdE1hdGNoaW5nKG5vZGUsIG1hdGNoaW5nKSA6IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIHNwYW5Ub1BsYWluVGV4dChzcGFuKSB7XG5cdGxldCB0ZXh0ID0gXCJcIjtcblx0cmV0dXJuIHNwYW4uY2hpbGRyZW4uZm9yRWFjaCgoY3VycmVudCkgPT4ge1xuXHRcdGlzUG9ydGFibGVUZXh0VG9vbGtpdFRleHROb2RlKGN1cnJlbnQpID8gdGV4dCArPSBjdXJyZW50LnRleHQgOiBpc1BvcnRhYmxlVGV4dFRvb2xraXRTcGFuKGN1cnJlbnQpICYmICh0ZXh0ICs9IHNwYW5Ub1BsYWluVGV4dChjdXJyZW50KSk7XG5cdH0pLCB0ZXh0O1xufVxuY29uc3QgbGVhZGluZ1NwYWNlID0gL15cXHMvLCB0cmFpbGluZ1NwYWNlID0gL1xccyQvO1xuZnVuY3Rpb24gdG9QbGFpblRleHQoYmxvY2spIHtcblx0bGV0IGJsb2NrcyA9IEFycmF5LmlzQXJyYXkoYmxvY2spID8gYmxvY2sgOiBbYmxvY2tdLCB0ZXh0ID0gXCJcIjtcblx0cmV0dXJuIGJsb2Nrcy5mb3JFYWNoKChjdXJyZW50LCBpbmRleCkgPT4ge1xuXHRcdGlmICghaXNQb3J0YWJsZVRleHRCbG9jayhjdXJyZW50KSkgcmV0dXJuO1xuXHRcdGxldCBwYWQgPSAhMTtcblx0XHRjdXJyZW50LmNoaWxkcmVuLmZvckVhY2goKHNwYW4pID0+IHtcblx0XHRcdGlzUG9ydGFibGVUZXh0U3BhbihzcGFuKSA/ICh0ZXh0ICs9IHBhZCAmJiB0ZXh0ICYmICF0cmFpbGluZ1NwYWNlLnRlc3QodGV4dCkgJiYgIWxlYWRpbmdTcGFjZS50ZXN0KHNwYW4udGV4dCkgPyBcIiBcIiA6IFwiXCIsIHRleHQgKz0gc3Bhbi50ZXh0LCBwYWQgPSAhMSkgOiBwYWQgPSAhMDtcblx0XHR9KSwgaW5kZXggIT09IGJsb2Nrcy5sZW5ndGggLSAxICYmICh0ZXh0ICs9IFwiXFxuXFxuXCIpO1xuXHR9KSwgdGV4dDtcbn1cbmNvbnN0IExJU1RfTkVTVF9NT0RFX0hUTUwgPSBcImh0bWxcIiwgTElTVF9ORVNUX01PREVfRElSRUNUID0gXCJkaXJlY3RcIjtcbmV4cG9ydCB7IExJU1RfTkVTVF9NT0RFX0RJUkVDVCwgTElTVF9ORVNUX01PREVfSFRNTCwgYnVpbGRNYXJrc1RyZWUsIGlzUG9ydGFibGVUZXh0QmxvY2ssIGlzUG9ydGFibGVUZXh0TGlzdEl0ZW1CbG9jaywgaXNQb3J0YWJsZVRleHRTcGFuLCBpc1BvcnRhYmxlVGV4dFRvb2xraXRMaXN0LCBpc1BvcnRhYmxlVGV4dFRvb2xraXRTcGFuLCBpc1BvcnRhYmxlVGV4dFRvb2xraXRUZXh0Tm9kZSwgbmVzdExpc3RzLCBzb3J0TWFya3NCeU9jY3VyZW5jZXMsIHNwYW5Ub1BsYWluVGV4dCwgdG9QbGFpblRleHQgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@portabletext/to-html/node_modules/@portabletext/toolkit/dist/index.js\n");

/***/ })

};
;